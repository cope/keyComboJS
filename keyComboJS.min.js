cope="undefined"===typeof cope?{}:cope;cope.KeyCombo="undefined"===typeof cope.KeyCombo?{}:cope.KeyCombo;cope.KeyCombo.Keys="undefined"===typeof cope.KeyCombo.Keys?{}:cope.KeyCombo.Keys;cope.KeyCombo.Keys.ALT=1;cope.KeyCombo.Keys.CTRL=2;cope.KeyCombo.Keys.SHIFT=3;cope.KeyCombo.checkAlt=[];cope.KeyCombo.checkCtrl=[];cope.KeyCombo.checkShift=[];cope.KeyCombo.alt=!1;cope.KeyCombo.ctrl=!1;cope.KeyCombo.shift=!1;cope.KeyCombo.combos=[];cope.KeyCombo.addCombo=function(a,b,c){if(!b)return console.log("No keys defined.");if(a!==cope.KeyCombo.Keys.ALT&&a!==cope.KeyCombo.Keys.CTRL&&a!==cope.KeyCombo.Keys.SHIFT)return console.log("Unrecognized key: "+a);var d=[];b.toUpperCase().split("").forEach(function(a){d.push(a.charCodeAt(0))});var d=d.join(","),e=!1;cope.KeyCombo.combos.forEach(function(b){a===b.mainKey&&d===b.codes&&(b.callback=c,e=!0)});!1===e&&cope.KeyCombo.combos.push({mainKey:a,keyCombo:b,codes:d,callback:c})};cope.KeyCombo.addAltCombo=function(a,b){cope.KeyCombo.addCombo(cope.KeyCombo.Keys.ALT,a,b)};cope.KeyCombo.addCtrlCombo=function(a,b){cope.KeyCombo.addCombo(cope.KeyCombo.Keys.CTRL,a,b)};cope.KeyCombo.addShiftCombo=function(a,b){a=a?a.toUpperCase():null;cope.KeyCombo.addCombo(cope.KeyCombo.Keys.SHIFT,a,b)};cope.KeyCombo.checkCombo=function(a,b){cope.KeyCombo.combos.forEach(function(c){a===c.mainKey&&b===c.codes&&(c.callback&&"[object Function]"==={}.toString.call(c.callback)?(c.callback(),a===cope.KeyCombo.Keys.ALT?cope.KeyCombo.checkAlt=[]:a===cope.KeyCombo.Keys.CTRL?cope.KeyCombo.checkCtrl=[]:a===cope.KeyCombo.Keys.SHIFT&&(cope.KeyCombo.checkShift=[])):console.log("No function defined for SHIFT combo: "+c.keys))})};document.addEventListener("keydown",function(a){cope.KeyCombo.alt=18===a.keyCode?!0:cope.KeyCombo.alt;cope.KeyCombo.ctrl=17===a.keyCode?!0:cope.KeyCombo.ctrl;cope.KeyCombo.shift=16===a.keyCode?!0:cope.KeyCombo.shift;16!==a.keyCode&&17!==a.keyCode&&18!==a.keyCode?cope.KeyCombo.alt?(cope.KeyCombo.checkAlt.push(a.keyCode),cope.KeyCombo.checkCombo(cope.KeyCombo.Keys.ALT,cope.KeyCombo.checkAlt.join(","))):cope.KeyCombo.ctrl?(cope.KeyCombo.checkCtrl.push(a.keyCode),cope.KeyCombo.checkCombo(cope.KeyCombo.Keys.CTRL,cope.KeyCombo.checkCtrl.join(","))):cope.KeyCombo.shift&&(cope.KeyCombo.checkShift.push(a.keyCode),cope.KeyCombo.checkCombo(cope.KeyCombo.Keys.SHIFT,cope.KeyCombo.checkShift.join(","))):(cope.KeyCombo.checkAlt=[],cope.KeyCombo.checkCtrl=[],cope.KeyCombo.checkShift=[])},!1);document.addEventListener("keyup",function(a){cope.KeyCombo.alt=18===a.keyCode?!1:cope.KeyCombo.alt;cope.KeyCombo.ctrl=17===a.keyCode?!1:cope.KeyCombo.ctrl;cope.KeyCombo.shift=16===a.keyCode?!1:cope.KeyCombo.shift;cope.KeyCombo.checkAlt=cope.KeyCombo.alt?cope.KeyCombo.checkAlt:[];cope.KeyCombo.checkCtrl=cope.KeyCombo.ctrl?cope.KeyCombo.checkCtrl:[];cope.KeyCombo.checkShift=cope.KeyCombo.shift?cope.KeyCombo.checkShift:[]},!1);
